<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SVOX Pico libpicotts: Picokdt</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SVOX Pico libpicotts
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Picokdt</div>  </div>
</div><!--header-->
<div class="contents">
<p>------------------------------------------------&mdash;<br  />
 <b> Pico KDT support </b><br  />
 ------------------------------------------------&mdash;<br  />
 overview extended binary tree file:</p><ul>
<li>dt consists of optional attribute mapping tables and a non-empty tree part</li>
<li>using the attribute mapping tables an attribute value as used throughout the TTS can be mapped to its smaller representation used in the tree</li>
<li>multi-byte values always little endian</li>
</ul>
<hr  />
<ul>
<li>bin-file, decision tree knowledge base in binary form<ul>
<li>dt-kb = header inputmaptables outputmaptables tree</li>
<li>header = INPMAPTABLEPOS2 OUTMAPTABLEPOS2 TREEPOS2</li>
<li>INPMAPTABLEPOS2: two bytes, equals offest in number of bytes from the start of kb to the start of input map tables, may not be 0</li>
<li>OUTMAPTABLEPOS2: two bytes, equals offest in number of bytes from the start of kb to the start of outtables, may not be 0</li>
<li>TREEPOS2: two bytes, equals offest in number of bytes from the start of kb to the start of the tree</li>
<li>inputmaptables = maptables</li>
<li>outputmaptables = maptables</li>
<li>maptables = NRMAPTABLES1 {maptable}=NRMAPTABLES1</li>
<li>maptable = LENTABLE2 TABLETYPE1 ( bytemaptable | wordmaptable | graphinmaptable | bytetovarmaptable )</li>
<li>bytemaptable (in or out, usage varies) = NRBYTES2 {BYTE1}=NRBYTES2</li>
<li>wordmaptable (in or out, usage varies) = NRWORDS2 {WORD2}=NRWORDS2</li>
<li>graphinmaptable (in only) = NRGRAPHS2 {GRAPH1:4}=NRGRAPHS2</li>
<li>bytetovarmaptable (out only) = NRINBYTES2 outvarsearchind outvaroutputs</li>
<li>outvarsearchind = {OUTVAROFFSET2}=NRINBYTES2</li>
<li>outvaroutputs = {VARVALID1:}=NRINBYTES2</li>
<li>bytemaptable: fixed size, *Map*Fixed <br  />
</li>
<li>wordmaptable: fixed size, *Map*Fixed <br  />
</li>
<li>graphinmaptable: search value is variable size (UTF8 grapheme), <br  />
 value to be mapped to is fixed size, one byte <br  />
</li>
<li>bytetovarmaptable: search value is fixed size, one byte, values <br  />
 to be mapped to are of variable size (e.g. several <br  />
 phones) <br  />
</li>
<li>NRMAPTABLES1: one byte representing the number of map tables</li>
<li>LENTABLE2: two bytes, equals offset to the next table (or next part of kb, e.g. tree), if LENTABLE2 = 3, and TABLETYPE1 = EMPTY -&gt; empty table, no mapping to be done</li>
<li>TABLETYPE1: one byte, type of map table (byte, word, or graph=utf8)</li>
<li>NRBYTES2: two bytes, number of bytes following in the table (one would be okay, to simplify some implementation also set to 2)</li>
<li>BYTE1: one btye, the sequence is used to determine the values being mapped to, starting with 0</li>
<li>NRWORDS2: two bytes, number of words (two btyes) following in the table</li>
<li>WORD2: two bytes, the sequence is used to determine the values being mapped to, starting with 0</li>
<li>NRGRAPHS2: two bytes, number of graphemes encoded in UTF8 following in table</li>
<li>GRAPH1:4: one to four bytes, UTF8 representation of a grapheme, the sequence of graphemes is used to determine the value being mapped to, starting with 0, the length information is encoded in UTF8, no need for extra length info</li>
<li>NRINBYTES2: two bytes, number of single byte IDs the tree can produce</li>
<li>OUTVAROFFSET2: two bytes, offset from the start of the outvaroutputs to the start of the following output phone ID group, ie. the first outvaroffset is the offset to the start of the second PHONEID group. Using the previous outvaroffset (or the start of the outvaroutputs) the start and lenth of the PHONEID group can be determined and we can get the sequence of output values we map the chunk value to</li>
<li>VARVALID1:: one to several bytes, one byte each for an output phone ID</li>
<li>tree = treenodeinfos TREEBODYSIZE4 treebody</li>
<li>treenodeinfos = NRVFIELDS1 vfields NRATTRIBUTES1 NRQFIELDS1 qfields</li>
<li>vfields = {VFIELD1}=NRVFIELDS1</li>
<li>qfields = {QFIELD1}=NRATTRIBUTES1xNRQFIELDS1</li>
<li>treebody = "cf. code"</li>
<li>TREEBODYSIZE4: four bytes, size of treebody in number of bytes</li>
<li>NRVFIELDS1: one byte, number of node properties in the following vector (predefined and fixed sequence of properties)</li>
<li>VFIELD1: number of bits used to represent a node property</li>
<li>NRATTRIBUTES1: one byte, number of attributes (rows) in the following matrix</li>
<li>NRQFIELDS1: one byte, number (columns) of question-dependent node properties per attribute in the following matrix (predefined and fixed sequence of properties)</li>
<li>QFIELD1: number of bits used to represent a question-dependent property in the matrix</li>
<li>Currently,<ul>
<li>NRVFIELDS1 is fixed at 2 for all trees, ie.</li>
<li>vfields = 2 aVFIELD1 bVFIELD1</li>
<li>aVFIELD1: nr of bits for questions</li>
<li>bVFIELD1: nr of bits for decisions</li>
<li>NRQFIELDS1 is fixed at 5 for all trees, ie. <br  />
</li>
<li>qfields = NRATTRIBUTES1 5 aQFIELD1 bQFIELD1 cQFIELD1 dQFIELD1 eQFIELD1 <br  />
<ul>
<li>aQFIELD1: nr of bits for fork count <br  />
</li>
<li>bQFIELD1: nr of bits for start position for subsets <br  />
</li>
<li>cQFIELD1: nr of bits for group size <br  />
</li>
<li>dQFIELD1: nr of bits for offset to reach output <br  />
</li>
<li>eQFIELD1: nr of bits for threshold (if continuous node) <br  />
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 16 2021 01:25:40 for SVOX Pico libpicotts by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
